{"version":3,"sources":["../src/index.js"],"names":["app","use","express","json","urlencoded","extended","req","res","next","context","models","routes","session","user","message","job","profile","eraseDatabaseOnSync","then","listen","process","env","PORT","console","log"],"mappings":";;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,uBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQC,oBAAQC,IAAR,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQC,oBAAQE,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AACAL,GAAG,CAACC,GAAJ;AAAA,qEAAQ,iBAAOK,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AACNF,YAAAA,GAAG,CAACG,OAAJ,GAAc;AACZC,cAAAA,MAAM,EAANA,kBADY,CAEZ;;AAFY,aAAd;AAIAF,YAAAA,IAAI;;AALE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAR;;AAAA;AAAA;AAAA;AAAA;AAOAR,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBU,mBAAOC,OAA3B;AACAZ,GAAG,CAACC,GAAJ,CAAQ,QAAR,EAAkBU,mBAAOE,IAAzB;AACAb,GAAG,CAACC,GAAJ,CAAQ,WAAR,EAAqBU,mBAAOG,OAA5B;AACAd,GAAG,CAACC,GAAJ,CAAQ,OAAR,EAAiBU,mBAAOI,GAAxB;AACAf,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBU,mBAAOK,OAA3B;AAEA,IAAMC,mBAAmB,GAAG,IAA5B;AAEA,yBAAYC,IAAZ,uEAAiB;AAAA;AAAA;AAAA;AAAA;AACflB,UAAAA,GAAG,CAACmB,MAAJ,CAAWC,OAAO,CAACC,GAAR,CAAYC,IAAvB,EAA6B;AAAA,mBAC3BC,OAAO,CAACC,GAAR,yCAA6CJ,OAAO,CAACC,GAAR,CAAYC,IAAzD,OAD2B;AAAA,WAA7B;;AADe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB","sourcesContent":["import \"dotenv/config\";\nimport cors from \"cors\";\nimport express from \"express\";\nimport models, { connectDb } from \"./models\";\nimport routes from \"./routes\";\n\nconst app = express();\n\napp.use(cors());\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\napp.use(async (req, res, next) => {\n  req.context = {\n    models,\n    // me: await models.User.findByLogin(\"rwieruch\"),\n  };\n  next();\n});\napp.use(\"/session\", routes.session);\napp.use(\"/users\", routes.user);\napp.use(\"/messages\", routes.message);\napp.use(\"/jobs\", routes.job);\napp.use(\"/profile\", routes.profile);\n\nconst eraseDatabaseOnSync = true;\n\nconnectDb().then(async () => {\n  app.listen(process.env.PORT, () =>\n    console.log(`Example app listening on port ${process.env.PORT}!`)\n  );\n});\n"],"file":"index.js"}