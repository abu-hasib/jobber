{"version":3,"sources":["../../src/models/user.js"],"names":["userSchema","mongoose","Schema","username","type","String","unique","required","timestamps","pre","next","model","deleteMany","user","_id","User"],"mappings":";;;;;;;AAAA;;;;AAEA,IAAMA,UAAU,GAAG,IAAIC,qBAASC,MAAb,CACjB;AACEC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,MAAM,EAAE,IAFA;AAGRC,IAAAA,QAAQ,EAAE;AAHF;AADZ,CADiB,EAQjB;AAAEC,EAAAA,UAAU,EAAE;AAAd,CARiB,CAAnB,C,CAWA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;;AAEAR,UAAU,CAACS,GAAX,CAAe,QAAf,EAAyB,UAAUC,IAAV,EAAgB;AACvC,OAAKC,KAAL,CAAW,SAAX,EAAsBC,UAAtB,CAAiC;AAAEC,IAAAA,IAAI,EAAE,KAAKC;AAAb,GAAjC,EAAqDJ,IAArD;AACD,CAFD;;AAIA,IAAMK,IAAI,GAAGd,qBAASU,KAAT,CAAe,MAAf,EAAuBX,UAAvB,CAAb;;eAEee,I","sourcesContent":["import mongoose from \"mongoose\";\n\nconst userSchema = new mongoose.Schema(\n  {\n    username: {\n      type: String,\n      unique: true,\n      required: true,\n    },\n  },\n  { timestamps: true }\n);\n\n// userSchema.statics.findByLogin = async function (login) {\n//   let user = await this.findOne({\n//     username: login,\n//   });\n\n//   if (!user) {\n//     user = await this.findOne({ email: login });\n//   }\n\n//   return user;\n// };\n\nuserSchema.pre(\"remove\", function (next) {\n  this.model(\"Message\").deleteMany({ user: this._id }, next);\n});\n\nconst User = mongoose.model(\"User\", userSchema);\n\nexport default User;\n"],"file":"user.js"}